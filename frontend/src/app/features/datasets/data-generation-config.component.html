<div class="modal-overlay" (click)="onClose()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>üöÄ Generate Synthetic Data</h2>
      <button class="close-btn" (click)="onClose()">&times;</button>
    </div>

    <div class="modal-body">
      <div class="dataset-info">
        <strong>Dataset:</strong> {{ datasetName }}
      </div>

      <div *ngIf="error" class="error-message">{{ error }}</div>
      <div *ngIf="success" class="success-message">{{ success }}</div>

      <div class="form-group">
        <label for="count">Number of Records</label>
        <input
          type="number"
          id="count"
          [(ngModel)]="count"
          min="1"
          max="10000"
          [disabled]="loading"
          class="form-control"
        />
        <span class="help-text">Generate between 1 and 10,000 records</span>
      </div>

      <div class="divider"></div>

      <h3>Confidence Filters</h3>
      <p class="help-text">
        Set minimum confidence thresholds to filter which components, rules, and fields
        are used for generation. Lower values include more data but may be less accurate.
      </p>

      <div class="form-group">
        <label for="componentConfidence">
          Component Confidence: <strong>{{ minComponentConfidence }}%</strong>
        </label>
        <input
          type="range"
          id="componentConfidence"
          [(ngModel)]="minComponentConfidence"
          min="0"
          max="100"
          [disabled]="loading"
          class="slider"
        />
        <div class="slider-labels">
          <span>0%</span>
          <span>100%</span>
        </div>
      </div>

      <div class="form-group">
        <label for="ruleConfidence">
          Generation Rule Confidence: <strong>{{ minRuleConfidence }}%</strong>
        </label>
        <input
          type="range"
          id="ruleConfidence"
          [(ngModel)]="minRuleConfidence"
          min="0"
          max="100"
          [disabled]="loading"
          class="slider"
        />
        <div class="slider-labels">
          <span>0%</span>
          <span>100%</span>
        </div>
      </div>

      <div class="form-group">
        <label for="fieldConfidence">
          Field Confidence: <strong>{{ minFieldConfidence }}%</strong>
        </label>
        <input
          type="range"
          id="fieldConfidence"
          [(ngModel)]="minFieldConfidence"
          min="0"
          max="100"
          [disabled]="loading"
          class="slider"
        />
        <div class="slider-labels">
          <span>0%</span>
          <span>100%</span>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn-secondary" (click)="onClose()" [disabled]="loading">
        Cancel
      </button>
      <button class="btn-primary" (click)="generateData()" [disabled]="loading">
        <span *ngIf="!loading">üöÄ Generate</span>
        <span *ngIf="loading">‚è≥ Generating...</span>
      </button>
    </div>
  </div>
</div>
