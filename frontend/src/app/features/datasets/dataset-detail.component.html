<div class="dataset-detail">
  <a routerLink="/datasets" class="back-link">â† Back to Datasets</a>

  <div *ngIf="loading" class="loading">Loading dataset...</div>

  <div *ngIf="error" class="error-message">{{ error }}</div>

  <div *ngIf="dataset && !loading" class="dataset-info">
    <h1>{{ dataset.name }}</h1>
    <p class="meta">Created: {{ dataset.createdAt | date:'full' }}</p>

    <div class="section">
      <div class="section-header">
        <h2>Schema Definition</h2>
        <button *ngIf="hasAISchema()"
                class="btn-primary"
                (click)="openGenerateModal()"
                title="Generate synthetic data from AI schema">
          ğŸš€ Generate Data
        </button>
      </div>
      <pre class="schema-display">{{ dataset.schemaDefinition | json }}</pre>
    </div>

    <div class="section">
      <h2>Elements ({{ elements.length }})</h2>
      <div *ngIf="elements.length === 0" class="empty">
        <p>No elements defined yet.</p>
      </div>
      <div *ngIf="elements.length > 0" class="elements-list">
        <div *ngFor="let element of elements" class="element-item">
          <strong>{{ element.name }}</strong>
          <span class="type-badge">{{ element.type }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Data Generation Modal -->
  <app-data-generation-config
    *ngIf="showGenerateModal && dataset"
    [projectId]="projectId"
    [datasetId]="datasetId"
    [datasetName]="dataset.name"
    (close)="closeGenerateModal()"
    (generationComplete)="onGenerationComplete()">
  </app-data-generation-config>
</div>
